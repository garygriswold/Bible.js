<!DOCTYPE html>
<html style="height: 100%; width: 100%">
	<head>
		<title>My Bible QA App</title>
		<script type="text/javascript" src="lib/TweenMax.js"></script>
		<script type="text/javascript" src="lib/aes.js"></script>
		<script type="text/javascript" src="ViewNavigator.js"></script>
		<script type="text/javascript" src="ViewLibrary.js"></script>
		<script type="text/javascript" src="QueueViewModel.js"></script>
		<script type="text/javascript" src="AnswerViewModel.js"></script>
		<script type="text/javascript" src="HttpClient.js"></script>
		<script type="text/javascript" src="CurrentState.js"></script>
		<script type="text/javascript">
			function onLoad() {
				
				var passphrase = 'JabberwokkyInTheHouseNow';

				var now = new Date();
				var message = now.toString();
				console.log('before message', message);

				var encrypted = CryptoJS.AES.encrypt(message, passphrase);
				console.log('encrypted', encrypted);

				var decrypted = CryptoJS.AES.decrypt(encrypted, passphrase);
				console.log('decrypted', decrypted.toString(CryptoJS.enc.Utf8));
				
				TRANSITION = { EVENT: 'transition', IMMEDIATE: 'immediate', SLIDE_LEFT: 'slide-left', SLIDE_RIGHT: 'slide-right' };
				viewNavigator = new ViewNavigator();
				viewNavigator.transition('splashView', 'loginView', null, TRANSITION.IMMEDIATE);
			}
			function transitionToForgotView() {
				viewNavigator.transition('loginView', 'forgotView', null, TRANSITION.SLIDE_LEFT);
			}
			function transitionBackToLoginView() {
				viewNavigator.transition('forgotView', 'loginView', null, TRANSITION.SLIDE_RIGHT);
			}
			function openQuestionCount() {
				viewNavigator.transition('loginView', 'queueView', 'openQuestionCount', TRANSITION.SLIDE_LEFT);
			}
			function assignQuestion() {
				viewNavigator.transition('queueView', 'answerView', 'assignQuestion', TRANSITION.SLIDE_LEFT);
			}
			function returnQuestion() {
				viewNavigator.transition('answerView', 'queueView', 'returnQuestion', TRANSITION.SLIDE_RIGHT);
			}
			function anotherQuestion() {
				viewNavigator.transition('answerView', 'answerView', 'anotherQuestion', TRANSITION.IMMEDIATE);// is this needed, or shoudl it be like safe draft
			}
			function saveDraft() {
				viewNavigator.saveDraft();
			}
			function sendAnswer() {
				viewNavigator.transition('answerView', 'queueView', 'sendAnswer', TRANSITION.SLIDE_RIGHT);
			}
		</script>
		<link rel="stylesheet" type="text/css" href="./Buttons.css">
		<link rel="stylesheet" type="text/css" href="./Fields.css">
	</head>
	<body onload="onLoad()" style="height: 100%; width: 100%; display: block, position: relative">
		<div id="splashView" style="position: absolute; background: white">
			<p>Hello World 1<p>
		</div>
	</body>
</html>
